# Labyrinth of Sight

## 概要
Python (Pygame) で開発された、レトロスタイルのFPS視点・迷路探索ゲームです。
レイキャスティング技術を用いた擬似3D描画と、棒倒し法によるマップ自動生成システムを特徴としています。
プレイヤーはとある迷宮の探索者となり、限られた時間の中で階段を目指します。階層が進むごとに迷路は巨大化し、制限時間が厳しくなっていきます。

### 特徴
* **FPS視点の探索:** レイキャスティングによる3D空間表現。
* **ローグライク要素:** 「棒倒し法」アルゴリズムにより、プレイするたびに異なる迷路が生成されます。
* **スコアアタック:** 残り時間に応じたスコア計算と、階層ごとの難易度上昇。
* **探索サポート:** 通った道だけが記録されるミニマップ機能。
* **レトロな演出:** ドット絵フォント、スキャンラインエフェクト、ダイナミックな光源処理。

## 今後の展望  
本プロジェクトはプロトタイプとしての完成度は高まりましたが、ゲームとしての深みと技術的な拡張性において、さらなる発展の余地があります。

### 1. 描画エンジンの強化
* **テクスチャマッピングの実装:** 現在の単色描画から、画像テクスチャを壁に貼り付ける処理へのアップグレード。
* **スプライト描画:** 敵キャラクターやアイテムを「ビルボード（常にカメラを向く板ポリゴン）」として描画する機能の追加。

### 2. ゲーム性の拡張
* **アイテムシステムの拡充:**
    * 「砂時計（制限時間延長）」
    * 「地図（ミニマップの一時的な全開放）」
* **敵AIの実装:** プレイヤーを追跡する簡易AIの実装。

### 3. システム面の強化
- **ハイスコアの永続化:** JSONやSQLiteを用いたローカルへのスコア保存機能。
- **サウンド実装:** `pygame.mixer` を活用したBGMと効果音の追加による没入感の向上。
- **パフォーマンス最適化:** 計算処理の一部を NumPy や Cython に置き換え、より高解像度での動作を実現する。

## 技術スタック
* **言語:** Python 3.13
* **ライブラリ:** Pygame
* **設計:**
    * モジュール分割による保守性の向上 (`src/`, `assets/` の分離)
    * ゲームステート管理 (`Playing`, `Transition` などの状態遷移)

## 環境構築と実行方法

### 前提条件
* **Python 3.x**
* **Pygame**

### 1.セットアップ
```bash
# リポジトリのクローン
git clone https://github.com/tebamoto14/Labyrinth-of-Sight.git
cd Labyrinth-of-Sight

# 必要なライブラリのインストール
pip install pygame
# または
pip install -r requirements.txt
```

###  2.実行
``` bash
python main.py
```
### 3.操作方法
実行後、以下のキー操作で動画の制御が可能である。

| キー / 入力 | 動作 |
|:---:|:---|
| **W** | 前進 |
| **S** | 後退 |
| **A** | 左へ平行移動（ストレイフ） |
| **D** | 右へ平行移動（ストレイフ） |
| **マウス移動 (左右)** | 視点の回転（向きを変える） |
| **Esc** | ゲーム終了 |